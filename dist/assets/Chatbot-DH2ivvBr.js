import{j as e}from"./ui-gc11a3NY.js";import{c as L,d as E,B as R,L as z,M as F}from"./Layout-qNRcknfe.js";import{T as V,a as W,b as v,c as k}from"./tabs-BNQ2ARQy.js";import{c as x,u as q,B as i,R as G}from"./index-BO5xaCed.js";import{r as o}from"./vendor-DWuuxECy.js";import{T as K}from"./textarea-DIwMxTQj.js";import{c as I}from"./api-DpYaj9Mj.js";import{F as h}from"./search-DkuEgwjB.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=x("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=x("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=x("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=x("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Y=()=>{const[c,l]=o.useState([{id:"1",role:"assistant",content:"Hello! I'm your Consumer Rights Assistant. How can I help you today?",timestamp:new Date}]),[d,u]=o.useState(""),[p,f]=o.useState(!1),[C,y]=o.useState(null),[j,g]=o.useState(null),b=o.useRef(null),{toast:m}=q(),M=[{id:"1",text:"What are my rights if a product is defective?"},{id:"2",text:"How do I file a complaint against an e-commerce company?"},{id:"3",text:"Can I get a refund for a service that didn't meet the promised standards?"},{id:"4",text:"What are the time limits for filing a consumer complaint?"},{id:"5",text:"Are there any specific rights for online shopping?"}],T=()=>{var s;(s=b.current)==null||s.scrollIntoView({behavior:"smooth"})};o.useEffect(()=>{T()},[c]),o.useEffect(()=>{const s=localStorage.getItem("chatSessionId");s&&(g(s),A(s))},[]);const A=async s=>{try{const t=await I.getChatHistory(s);if(t.success&&t.messages&&t.messages.length>0){const r=t.messages.map((a,n)=>({id:n.toString(),role:a.role,content:a.content,timestamp:new Date}));r.length>0&&l(r)}}catch(t){console.error("Error loading chat history:",t),localStorage.removeItem("chatSessionId"),g(null)}},N=async()=>{if(!d.trim()||p)return;const s={id:Date.now().toString(),role:"user",content:d.trim(),timestamp:new Date};l(t=>[...t,s]),u(""),f(!0);try{const t=c.slice(-10).filter(a=>a.id!=="1"||c.length===1).map(a=>({role:a.role,content:a.content}));t.push({role:"user",content:s.content});const r=await I.sendMessage(t,j);if(r.success){r.session_id&&!j&&(g(r.session_id),localStorage.setItem("chatSessionId",r.session_id));const a={id:(Date.now()+1).toString(),role:"assistant",content:r.message,timestamp:new Date};l(n=>[...n,a])}else{const a={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again later.",timestamp:new Date};l(n=>[...n,a]),m({title:"Error",description:r.error||"Failed to get a response",variant:"destructive"})}}catch(t){console.error("Error sending message:",t);let r="Failed to communicate with the chatbot service";t.response&&t.response.data&&t.response.data.error?r=t.response.data.error:t.message&&(r=t.message);const a={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again later.",timestamp:new Date};l(n=>[...n,a]),m({title:"Error",description:r,variant:"destructive"})}finally{f(!1)}},D=s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),N())},H=(s,t)=>{navigator.clipboard.writeText(t).then(()=>{y(s),m({title:"Copied to clipboard",description:"Text has been copied to your clipboard"}),setTimeout(()=>{y(null)},2e3)})},B=s=>{u(s)},w=s=>{m({title:s?"Thanks for your feedback!":"We'll improve our answers",description:s?"We're glad our response was helpful.":"Thanks for letting us know. We'll use this to improve our responses."})};return e.jsxs("div",{className:"h-[600px] flex flex-col bg-card text-card-foreground rounded-lg border shadow-sm",children:[e.jsx("div",{className:"p-4 bg-secondary border-b border-border flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"h-6 w-6 text-primary mr-2"}),e.jsx("h2",{className:"font-semibold",children:"Consumer Rights AI Assistant"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[c.map(s=>e.jsx("div",{className:`mb-4 flex ${s.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${s.role==="user"?"bg-primary text-primary-foreground":"bg-card border border-border text-card-foreground"}`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[s.role==="assistant"?e.jsx(S,{className:"h-5 w-5 mr-2 text-primary"}):e.jsx(L,{className:"h-5 w-5 mr-2 text-primary-foreground"}),e.jsx("span",{className:"font-medium",children:s.role==="assistant"?"AI Assistant":"You"}),e.jsx("span",{className:"text-xs ml-2 opacity-70",children:s.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("p",{className:"whitespace-pre-wrap",children:s.content}),s.role==="assistant"&&e.jsxs("div",{className:"mt-3 pt-2 border-t border-border flex justify-between items-center",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(i,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 hover:text-primary",onClick:()=>w(!0),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-thumbs-up",children:[e.jsx("path",{d:"M7 10v12"}),e.jsx("path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z"})]})}),e.jsx(i,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 hover:text-primary",onClick:()=>w(!1),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-thumbs-down",children:[e.jsx("path",{d:"M17 14V2"}),e.jsx("path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z"})]})})]}),e.jsx(i,{variant:"ghost",size:"sm",className:"text-muted-foreground h-7 hover:text-primary",onClick:()=>H(s.id,s.content),children:C===s.id?e.jsx(E,{className:"h-4 w-4"}):e.jsx(U,{className:"h-4 w-4"})})]})]})},s.id)),e.jsx("div",{ref:b})]}),e.jsxs("div",{className:"p-4 border-t border-border bg-card",children:[e.jsxs("div",{className:"flex",children:[e.jsx(K,{placeholder:"Type your question here...",value:d,onChange:s=>u(s.target.value),onKeyDown:D,className:"min-h-[80px] resize-none bg-input text-foreground border-border"}),e.jsx(i,{className:"ml-2 self-end bg-primary hover:bg-primary/90 text-primary-foreground",onClick:N,disabled:p||!d.trim(),children:p?e.jsx(G,{className:"h-5 w-5 animate-spin"}):e.jsx(_,{className:"h-5 w-5"})})]}),c.length===1&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Suggested questions:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(s=>e.jsx(R,{variant:"outline",className:"cursor-pointer hover:bg-secondary py-1.5 border-border text-foreground",onClick:()=>B(s.text),children:s.text},s.id))})]})]})]})},te=()=>e.jsx(z,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-r from-primary/80 to-primary/60 text-primary-foreground py-16",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"AI Consumer Rights Assistant"}),e.jsx("p",{className:"text-xl mb-8",children:"Get instant, personalized guidance on your consumer rights and issues"})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3 order-2 lg:order-1",children:e.jsx(Y,{})}),e.jsx("div",{className:"lg:col-span-1 order-1 lg:order-2",children:e.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6 sticky top-24 border border-border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"How Can I Help You?"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"I'm your AI assistant for consumer rights in India. Ask me about:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex",children:[e.jsx(h,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-1"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Understanding your consumer rights and protections"})]}),e.jsxs("li",{className:"flex",children:[e.jsx(h,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-1"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"How to file complaints and seek redressal"})]}),e.jsxs("li",{className:"flex",children:[e.jsx(h,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-1"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Guidance on specific product or service issues"})]}),e.jsxs("li",{className:"flex",children:[e.jsx(h,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-1"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Information about consumer protection laws"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Important Note"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This AI assistant provides general guidance based on Indian consumer protection laws. For specific legal advice, please consult a qualified legal professional."})]}),e.jsxs(V,{defaultValue:"chat",className:"mt-4",children:[e.jsxs(W,{className:"grid w-full grid-cols-2 bg-secondary",children:[e.jsx(v,{value:"chat",className:"text-sm data-[state=active]:bg-background",children:"Chat Now"}),e.jsx(v,{value:"rights",className:"text-sm data-[state=active]:bg-background",children:"View Rights"})]}),e.jsxs(k,{value:"chat",className:"mt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Start typing your question in the chat to get immediate assistance."}),e.jsxs(i,{className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Focus on Chat"]})]}),e.jsxs(k,{value:"rights",className:"mt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Browse our comprehensive guide to consumer rights in India."}),e.jsxs(i,{className:"w-full",variant:"outline",children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"View Rights Guide"]})]})]})]})})]})})})]})});export{te as default};

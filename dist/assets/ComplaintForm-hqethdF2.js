import{j as e,m as O,I as ie,n as q,o as U,p as le,q as Y,r as ce,L as _,s as H,t as de,v as me,w as V,x as ue,y as he,c as xe,h as pe,u as fe,e as W,f as L,g as je,z as be,B as ye}from"./ui-gc11a3NY.js";import{b as K,d as X,L as ge,I as N}from"./Layout-qNRcknfe.js";import{z as o,u as ve,F as Ne,a as c,b as d,c as m,d as u,e as h,f as M,t as Ce}from"./form-CJSl557A.js";import{T as F}from"./textarea-DIwMxTQj.js";import{c as J,a as p,A as we,C as ke,d as Se,e as Pe,B as z,f as T}from"./index-BO5xaCed.js";import{r as a}from"./vendor-DWuuxECy.js";import{C as De,a as Re,b as Ie,c as Ee,e as Fe}from"./card-DHorRUo3.js";import"./search-DkuEgwjB.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ae=ue,Le=he,$=a.forwardRef(({className:r,children:t,...s},n)=>e.jsxs(O,{ref:n,className:p("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...s,children:[t,e.jsx(ie,{asChild:!0,children:e.jsx(K,{className:"h-4 w-4 opacity-50"})})]}));$.displayName=O.displayName;const Q=a.forwardRef(({className:r,...t},s)=>e.jsx(q,{ref:s,className:p("flex cursor-default items-center justify-center py-1",r),...t,children:e.jsx(Te,{className:"h-4 w-4"})}));Q.displayName=q.displayName;const G=a.forwardRef(({className:r,...t},s)=>e.jsx(U,{ref:s,className:p("flex cursor-default items-center justify-center py-1",r),...t,children:e.jsx(K,{className:"h-4 w-4"})}));G.displayName=U.displayName;const Z=a.forwardRef(({className:r,children:t,position:s="popper",...n},i)=>e.jsx(le,{children:e.jsxs(Y,{ref:i,className:p("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:s,...n,children:[e.jsx(Q,{}),e.jsx(ce,{className:p("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(G,{})]})}));Z.displayName=Y.displayName;const Me=a.forwardRef(({className:r,...t},s)=>e.jsx(_,{ref:s,className:p("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...t}));Me.displayName=_.displayName;const f=a.forwardRef(({className:r,children:t,...s},n)=>e.jsxs(H,{ref:n,className:p("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(de,{children:e.jsx(X,{className:"h-4 w-4"})})}),e.jsx(me,{children:t})]}));f.displayName=H.displayName;const ze=a.forwardRef(({className:r,...t},s)=>e.jsx(V,{ref:s,className:p("-mx-1 my-1 h-px bg-muted",r),...t}));ze.displayName=V.displayName;var B="Checkbox",[Oe,Ze]=xe(B),[qe,Ue]=Oe(B),ee=a.forwardRef((r,t)=>{const{__scopeCheckbox:s,name:n,checked:i,defaultChecked:x,required:C,disabled:y,value:k="on",onCheckedChange:P,form:g,...D}=r,[j,S]=a.useState(null),R=pe(t,l=>S(l)),I=a.useRef(!1),A=j?g||!!j.closest("form"):!0,[v=!1,E]=fe({prop:i,defaultProp:x,onChange:P}),oe=a.useRef(v);return a.useEffect(()=>{const l=j==null?void 0:j.form;if(l){const w=()=>E(oe.current);return l.addEventListener("reset",w),()=>l.removeEventListener("reset",w)}},[j,E]),e.jsxs(qe,{scope:s,state:v,disabled:y,children:[e.jsx(W.button,{type:"button",role:"checkbox","aria-checked":b(v)?"mixed":v,"aria-required":C,"data-state":te(v),"data-disabled":y?"":void 0,disabled:y,value:k,...D,ref:R,onKeyDown:L(r.onKeyDown,l=>{l.key==="Enter"&&l.preventDefault()}),onClick:L(r.onClick,l=>{E(w=>b(w)?!0:!w),A&&(I.current=l.isPropagationStopped(),I.current||l.stopPropagation())})}),A&&e.jsx(Ye,{control:j,bubbles:!I.current,name:n,value:k,checked:v,required:C,disabled:y,form:g,style:{transform:"translateX(-100%)"},defaultChecked:b(x)?!1:x})]})});ee.displayName=B;var se="CheckboxIndicator",re=a.forwardRef((r,t)=>{const{__scopeCheckbox:s,forceMount:n,...i}=r,x=Ue(se,s);return e.jsx(je,{present:n||b(x.state)||x.state===!0,children:e.jsx(W.span,{"data-state":te(x.state),"data-disabled":x.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...r.style}})})});re.displayName=se;var Ye=r=>{const{control:t,checked:s,bubbles:n=!0,defaultChecked:i,...x}=r,C=a.useRef(null),y=be(s),k=ye(t);a.useEffect(()=>{const g=C.current,D=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(D,"checked").set;if(y!==s&&S){const R=new Event("click",{bubbles:n});g.indeterminate=b(s),S.call(g,b(s)?!1:s),g.dispatchEvent(R)}},[y,s,n]);const P=a.useRef(b(s)?!1:s);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??P.current,...x,tabIndex:-1,ref:C,style:{...r.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(r){return r==="indeterminate"}function te(r){return b(r)?"indeterminate":r?"checked":"unchecked"}var ae=ee,_e=re;const ne=a.forwardRef(({className:r,...t},s)=>e.jsx(ae,{ref:s,className:p("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...t,children:e.jsx(_e,{className:p("flex items-center justify-center text-current"),children:e.jsx(X,{className:"h-4 w-4"})})}));ne.displayName=ae.displayName;const He=o.object({fullName:o.string().min(2,{message:"Full name must be at least 2 characters"}),email:o.string().email({message:"Please enter a valid email address"}),phone:o.string().min(10,{message:"Please enter a valid phone number"}),productName:o.string().min(2,{message:"Product name is required"}),companyName:o.string().min(2,{message:"Company name is required"}),purchaseDate:o.string().min(1,{message:"Purchase date is required"}),complaintType:o.string().min(1,{message:"Please select a complaint type"}),issueDescription:o.string().min(20,{message:"Please provide a detailed description (at least 20 characters)"}),desiredResolution:o.string().min(10,{message:"Please describe your desired resolution"}),evidenceDescription:o.string().optional(),termsAccepted:o.boolean().refine(r=>r===!0,{message:"You must accept the terms and conditions"})}),es=()=>{const r=ve({resolver:Ce(He),defaultValues:{fullName:"",email:"",phone:"",productName:"",companyName:"",purchaseDate:"",complaintType:"",issueDescription:"",desiredResolution:"",evidenceDescription:"",termsAccepted:!1}}),t=async s=>{try{const i=await(await fetch("http://localhost:5000/api/complaints",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();i.success?(T({title:"Complaint Submitted",description:`Your complaint has been successfully registered. Reference #${i.complaint_id}`}),r.reset()):T({title:"Submission Failed",description:i.error||"There was an error submitting your complaint. Please try again.",variant:"destructive"})}catch(n){console.error("Error submitting complaint:",n),T({title:"Submission Failed",description:"There was an error connecting to the server. Please try again later.",variant:"destructive"})}};return e.jsx(ge,{children:e.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-2 text-brand-blue-700",children:"Consumer Complaint Form"}),e.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Report issues with products or services and seek resolution"}),e.jsxs(we,{className:"mb-8 bg-brand-blue-50 border-brand-blue-200",children:[e.jsx(ke,{className:"h-4 w-4 text-brand-blue-600"}),e.jsx(Se,{className:"text-brand-blue-700",children:"Before you submit"}),e.jsx(Pe,{className:"text-brand-blue-600",children:"Have you tried contacting the company directly? Many issues can be resolved faster by first reaching out to the company's customer service."})]}),e.jsxs(De,{children:[e.jsxs(Re,{children:[e.jsx(Ie,{children:"Submit Your Complaint"}),e.jsx(Ee,{children:"Fill out the form below with details about your consumer complaint. All fields marked with * are required."})]}),e.jsx(Fe,{children:e.jsx(Ne,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(t),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(c,{control:r.control,name:"fullName",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Full Name*"}),e.jsx(u,{children:e.jsx(N,{placeholder:"John Doe",...s})}),e.jsx(h,{})]})}),e.jsx(c,{control:r.control,name:"email",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Email Address*"}),e.jsx(u,{children:e.jsx(N,{type:"email",placeholder:"your@email.com",...s})}),e.jsx(h,{})]})})]}),e.jsx(c,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Phone Number*"}),e.jsx(u,{children:e.jsx(N,{placeholder:"+91 9876543210",...s})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Product/Service Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(c,{control:r.control,name:"productName",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Product/Service Name*"}),e.jsx(u,{children:e.jsx(N,{placeholder:"e.g. Smartphone X-200",...s})}),e.jsx(h,{})]})}),e.jsx(c,{control:r.control,name:"companyName",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Company Name*"}),e.jsx(u,{children:e.jsx(N,{placeholder:"e.g. ABC Electronics",...s})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(c,{control:r.control,name:"purchaseDate",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Date of Purchase*"}),e.jsx(u,{children:e.jsx(N,{type:"date",...s})}),e.jsx(h,{})]})}),e.jsx(c,{control:r.control,name:"complaintType",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Complaint Type*"}),e.jsxs(Ae,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(u,{children:e.jsx($,{children:e.jsx(Le,{placeholder:"Select a complaint type"})})}),e.jsxs(Z,{children:[e.jsx(f,{value:"defectiveProduct",children:"Defective Product"}),e.jsx(f,{value:"misrepresentation",children:"False Advertising/Misrepresentation"}),e.jsx(f,{value:"poorService",children:"Poor Service Quality"}),e.jsx(f,{value:"billing",children:"Billing/Overcharging Issue"}),e.jsx(f,{value:"warranty",children:"Warranty Claim Denied"}),e.jsx(f,{value:"delivery",children:"Delivery Problems"}),e.jsx(f,{value:"refund",children:"Refund Not Processed"}),e.jsx(f,{value:"other",children:"Other"})]})]}),e.jsx(h,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Complaint Details"}),e.jsx(c,{control:r.control,name:"issueDescription",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Describe the Issue*"}),e.jsx(u,{children:e.jsx(F,{placeholder:"Please provide a detailed description of the issue you experienced...",className:"min-h-[120px]",...s})}),e.jsx(h,{})]})}),e.jsx(c,{control:r.control,name:"desiredResolution",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Desired Resolution*"}),e.jsx(u,{children:e.jsx(F,{placeholder:"What solution are you seeking? (refund, replacement, repair, etc.)",className:"min-h-[80px]",...s})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Supporting Evidence"}),e.jsxs("div",{className:"p-4 rounded-md border border-dashed border-gray-300 text-center bg-gray-950",children:[e.jsx(Be,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Drag and drop files here, or click to browse"}),e.jsx(z,{type:"button",variant:"outline",size:"sm",children:"Upload Files"}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"You can upload receipts, photos, correspondence, etc. (Max 5 files, 5MB each)"})]}),e.jsx(c,{control:r.control,name:"evidenceDescription",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Evidence Description"}),e.jsx(u,{children:e.jsx(F,{placeholder:"Briefly describe the evidence you're submitting...",className:"min-h-[80px]",...s})}),e.jsx(M,{children:"Optional: Provide context for any files you've uploaded"}),e.jsx(h,{})]})})]}),e.jsx(c,{control:r.control,name:"termsAccepted",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(u,{children:e.jsx(ne,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(m,{children:"I confirm that all information provided is accurate to the best of my knowledge*"}),e.jsxs(M,{children:["By submitting this form, you agree to our ",e.jsx("a",{href:"#",className:"text-brand-blue-600 hover:underline",children:"Terms of Service"})," and ",e.jsx("a",{href:"#",className:"text-brand-blue-600 hover:underline",children:"Privacy Policy"})]}),e.jsx(h,{})]})]})}),e.jsx(z,{type:"submit",className:"w-full bg-brand-blue-600 hover:bg-brand-blue-700",children:"Submit Complaint"})]})})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"What happens next?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-brand-blue-100 flex items-center justify-center text-brand-blue-600 font-semibold mr-3",children:"1"}),e.jsx("div",{children:e.jsx("p",{className:"text-gray-700",children:"Your complaint will be reviewed by our team within 48 hours"})})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-brand-blue-100 flex items-center justify-center text-brand-blue-600 font-semibold mr-3",children:"2"}),e.jsx("div",{children:e.jsx("p",{className:"text-gray-700",children:"We may contact you for additional information or clarification"})})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-brand-blue-100 flex items-center justify-center text-brand-blue-600 font-semibold mr-3",children:"3"}),e.jsx("div",{children:e.jsx("p",{className:"text-gray-700",children:"Your complaint will be forwarded to the relevant company or authority"})})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-brand-blue-100 flex items-center justify-center text-brand-blue-600 font-semibold mr-3",children:"4"}),e.jsx("div",{children:e.jsx("p",{className:"text-gray-700",children:"You will receive updates on the status of your complaint via email"})})]})]})]})]})})};export{es as default};
